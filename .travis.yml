language: java
install: true

os: linux
dist: trusty
jdk: oraclejdk8

after_success:
  - wget https://raw.githubusercontent.com/DiscordHooks/travis-ci-discord-webhook/master/send.sh
  - chmod +x send.sh
  - ./send.sh success $WEBHOOK_URL
after_failure:
  - wget https://raw.githubusercontent.com/DiscordHooks/travis-ci-discord-webhook/master/send.sh
  - chmod +x send.sh
  - ./send.sh failure $WEBHOOK_URL

jobs:
  include:
    - stage: core
      name: "Build DarwinServer-Core"
      script: gradle build -p Core
    - stage: sponge
      name: "Build Sponge implementation"
      script: gradle build -p Sponge
    - stage: modules
      name: "Build internal modules"
      script: gradle build -p Modules
