/*
 *  Copyright (C) 2020 Guus Lieben
 *
 *  This framework is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU Lesser General Public License as
 *  published by the Free Software Foundation, either version 2.1 of the
 *  License, or (at your option) any later version.
 *
 *  This library is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See
 *  the GNU Lesser General Public License for more details.
 *
 *  You should have received a copy of the GNU Lesser General Public License
 *  along with this library. If not, see {@literal<http://www.gnu.org/licenses/>}.
 */

plugins {
    id 'java'
    id 'java-test-fixtures'
}

group = 'org.dockbox.hartshorn.common'
description 'Default implementations for Hartshorn'

def depBlacklist = ['hartshorn-sponge-8', 'hartshorn-test', 'examples']

dependencies {
    rootDir.listFiles().each {
        if (it.directory && it.name.startsWith('hartshorn-') && new File(it, 'build.gradle').exists()) {
            if (!depBlacklist.contains(it.name)) {
                testFixturesImplementation project(":${it.name}")
                testFixturesImplementation project(":${it.name}").sourceSets.impl.output
            }
        }
    }

    new File(rootDir, 'hartshorn-minecraft').listFiles().each {
        if (it.directory && new File(it, 'build.gradle').exists()) {
            if (!depBlacklist.contains(it.name)) {
                testFixturesImplementation project(":hartshorn-minecraft:${it.name}")
                testFixturesImplementation project(":hartshorn-minecraft:${it.name}").sourceSets.impl.output
            }
        }
    }

    testFixturesImplementation "com.google.guava:guava:$guavaVersion"

    testFixturesImplementation "org.jetbrains:annotations:$jetbrainsAnnotationsVersion"

    testFixturesImplementation "org.junit.jupiter:junit-jupiter-api:$junitVersion"
    testFixturesImplementation "org.junit.jupiter:junit-jupiter-params:$junitVersion"
    testFixturesRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:$junitVersion"
    testFixturesImplementation "org.hamcrest:java-hamcrest:$hamcrestVersion"

    testFixturesImplementation "org.mockito:mockito-inline:$mockitoVersion"

    testFixturesImplementation "org.projectlombok:lombok:$lombokVersion"
    testFixturesAnnotationProcessor "org.projectlombok:lombok:$lombokVersion"

    testFixturesImplementation "org.slf4j:slf4j-api:$slf4jVersion"
    testFixturesImplementation "org.slf4j:slf4j-simple:$slf4jVersion"

    testFixturesImplementation "org.hibernate:hibernate-core:$hibernateVersion"
    testFixturesImplementation "org.apache.derby:derby:$derbyVersion"
}
